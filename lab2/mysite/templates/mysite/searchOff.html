

{% extends 'mysite/main.html' %}



{% block page %}
<script src="../static/mysite/jquery-1.11.0.min.js" type="text/javascript"></script>
<script type="text/javascript" src="../static/mysite/offline.js"></script>
<script type="text/javascript" src="../static/mysite/classes.js"></script>

<div class="container">

      <div class="starter-template">
        <h1>Search off engine</h1>
        <p class="lead">Write your search-phrase here.</p>
        
        <form>
             <!-- <input id="zapytanie" class="input-sm text-danger" type="text"
                               name="query" value="{{ query }}"> -->
            <input class='input-sm' type="text" id="zapytanie" name="zapytanie" value="{{ zapytanie }}">
            <!-- <input class="btn btn-default btn-lg" role="button" type="submit">
 -->
            <button id="simple-search" type="button" class="btn btn-sm btn-primary">
                <span class="glyphicon glyphicon-search"></span>
            </button>
        </form>

            <div class='row'> &nbsp</div>
            <!-- <div class = "row">
              Liczba miejsc:
            </div>
            <div class="row">
                <div class="col-md-4"> &nbsp</div>
                <div class="col-md-1"> od </div>
                <div class="col-md-1"><input class='form-control' type="text" name="placeMin" value="{{placeMin}}" width="20"></div>
                <div class="col-md-1"> do </div>
                <div class="col-md-1">
                    <input class='form-control' type="text" name="placeMax" value="{{placeMax}}">
                </div>
                <div class="col-md-1">
                     <button type="button" class="adv btn btn-sm btn-primary">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                    <!-- <input class="btn btn-default btn-md" role="button" type="submit"> -->
         <!--        </div>
                <div class="col-md-3" > &nbsp</div>
            </div> -->

            <div class='row'> &nbsp</div>
            <div class="row">
                <form class="form-horizontal">
                    <div class="col-md-12">
                        <!-- Form Name -->
                        <legend class="text-center">Advanced Search:</legend>
                    </div>
                    <div class="row">
                        <div class="col-md-3"></div>
                        <div class="col-md-6">
                            <div class="control-group">
                                <div class="controls">
                                    <input id="name" name="name" type="text"
                                            placeholder="Name" class="form-control">
                                </div>
                            </div>
                            <br>

                            <div class="control-group">
                                <div class="controls">
                                    <input id="description" name="description"
                                           type="text" placeholder="Description"
                                           class="form-control">
                                </div>
                            </div>
                            <br>

                            <div class="control-group">
                                <div class="controls">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <input id="min" name="min" type="number"
                                                   placeholder="Minimum capacity"
                                                   class="form-control">
                                        </div>
                                        <div class="col-md-6">
                                            <input id="max" name="max" type="number"
                                               placeholder="Maxmium capacity"
                                               class="form-control">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <button id="adv-search" type="button"
                                    class="btn btn-sm btn-primary"><span
                                    class="glyphicon glyphicon-search"></span>
                          </button>  --> 
                    </div>
            </div>
            <div class='row'>
                <div>
                    <em><label for="multiple-label-example">Search by attributes </label></em>
                    <select data-placeholder="Choose attributes" class="chosen-select" multiple style="width:350px;" tabindex="16" id="attributs" name="attributs">
                        <option value=""></option>
                            {% for a in allAttr %}
                                <option value="{{a}}" name = "{{ a }}" type="checkbox">{{a}}</option>
                                <a href="?attributes=&{{ a }}"></a>
                            {% endfor %}
                            <option id="atr"></option>
                            <option value="whiteTable">bialaTablica</option>
                            <option value="greenTable">zielonaTablica</option>
                            <!-- <option value="projektor">projektor</option>
                            <option value="kebab">kebab</option> -->
                    </select>
                 <button id="adv-search" type="button"
                                    class="btn btn-sm btn-primary"><span
                                    class="glyphicon glyphicon-search"></span>
                            </button>
                    <!-- <input class="btn btn-default btn-md" role="button" type="submit"> -->
                </div>
            </div>
    
        
            <!-- <div class='row'>
                <div class="btn-group">
                    <button type="button" class="btn btn-default">Sort by</button>
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        <span class="caret"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                        <li>{% with "name" as by %}<input class='btn btn-default' name="by" value="{{ by }}" role="button" readonly onclick="sortByName()">
                        {%endwith%}</li>
                        <li>{% with "capacity" as by %}<input class='btn btn-default' name="by" value="{{ by }}" role="button" readonly onclick="sortByCapacity()">{%endwith%}</li>
                    </ul>
                </div>
            </div> -->
        </form>

        <div class="container">

            <!-- <div class='row'> &nbsp</div>
            <div class="row"> Vacant rooms: </div>        
            <div class='row'> &nbsp</div>
            <div class="row"> 
                <div class='col-md-3' type = 'hidden'> &nbsp </div>
                <div class='col-md-2'> Name </div>
                <div class='col-md-2'> Catacity </div>
                <div class='col-md-2'> Description </div>
            </div>
            {% for room in rooms_list %}
            <div class="row">
               <!--a href="{{ room.id }}/freedates"> -->
                <!-- <div class='col-md-3'>  </div>
                <div class='col-md-2'>{{ room }}</div> 
                <div class='col-md-2'>{{ room.capacity }}</div>
                <div class='col-md-2'>{{ room.description }} </div>
                    <!-- Button trigger modal -->
               <!--  <div class="container">
                    <div class="starter-template">
                        <button class="btn btn-primary" data-toggle="modal" data-target="#myModal" onclick='klick("{{ room.id }}")'>
                            rezerwuj
                        </button> 
                    </div>
                </div>
            </div>
            {% empty %}
                Sorry, there are no rooms available.
            {% endfor %} -->


            <!-- Modal -->
<!--             <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Wolne terminy</h4>
                  </div>
                  <div class="modal-body">
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <!--button type="button" class="btn btn-default" value="Book" name="book" onclick="bookMe()">Book</button>
                    <!--button type="button" class="btn btn-primary">Save changes</button-->
      <!--             </div>
                </div>
              </div>
            </div> --> 

        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="myModalLabel">Reservation form</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div id='modal-done-alert' class="alert alert-success" style="display: none">{{ message }}</div>
                            <div id='modal-fail-alert' class="alert alert-danger" style="display: none">{{ message }}</div>
                        </div>
                        <div class="page-header">
                            <div class="bs-callout bs-callout-info">
                                <h3>
                                    <span id="room_name"></span>
                                    /
                                    <small id="room_capacity">Catacity: {{ object.capacity }}</small>
                                </h3>
                                <p id="room_description">{{ object.description }}</p>
                            </div>
                        </div>
                        <div class="panel-group" id="accordion">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="button" id="book" class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>


        
      <div class="panel panel-title panel-default">
            <div class="panel-heading">
                <div class="row">
                    <div class="col-md-3"></div>
                    <div class="col-md-6">
                        Choose room from below
                    </div>
                    <div class="col-md-6 text-right primary-search">
                        <form>
                           <!--  <input id="query" class="input-sm text-danger" type="text"
                                   name="query" value="{{ query }}">
                            <button type="button" class="adv btn btn-sm btn-primary"
                                data-toggle="collapse" data-target="#advSearch">
                                Advanced
                            </button>
                            <button id="simple-search" type="button" class="btn btn-sm btn-primary">
                                <span class="glyphicon glyphicon-search"></span>
                            </button> -->
                        </form>
                    </div>
                </div>
            </div>
            <table id="room-list" class="table table-hover"></table>
        </div>


        <div id="pagination-btn" class="row">
            <div class="col-md-10"></div>
            <div class="col-md-2">
                <div class="pagination">
                    <div class="btn-group btn-group-justified">
                        <div class="btn-group">
                            <button id="prev-page" class="btn btn-default">Prev</button>
                        </div>
                        <div class="btn-group">
                            <button id="next-page" class="btn btn-default">Next</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div><!-- /.container -->




  {% endblock %}
